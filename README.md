# selsup-test

Необходимо реализовать на языке Java (можно использовать 17

версию) класс для работы с API Честного знака. Класс должен быть

thread-safe и поддерживать ограничение на количество запросов к

API. Ограничение указывается в конструкторе в виде количества

запросов в определенный интервал времени. Например:

public CrptApi(TimeUnit timeUnit, int requestLimit)

timeUnit – указывает промежуток времени – секунда, минута и пр.

requestLimit – положительное значение, которое определяет

максимальное количество запросов в этом промежутке времени.

При превышении лимита запрос вызов должен блокироваться,

чтобы не превысить максимальное количество запросов к API и

продолжить выполнение, без выбрасывания исключения, когда

ограничение на количество вызов API не будет превышено в

результате этого вызова. В любой ситуации превышать лимит на

количество запросов запрещено для метода.

Реализовать нужно единственный метод – Создание документа для

ввода в оборот товара, произведенного в РФ. Документ и подпись

должны передаваться в метод в виде Java объекта и строки

соответственно.

Вызывается по HTTPS метод POST следующий URL:

[https://ismp.crpt.ru/api/v3/lk/documents/create](https://ismp.crpt.ru/api/v3/lk/documents/create)

В теле запроса передается в формате JSON документ: {"description":

{ "participantInn": "string" }, "doc\_id": "string", "doc\_status": "string",

"doc\_type": "LP\_INTRODUCE\_GOODS", 109 "importRequest": true,

"owner\_inn": "string", "participant\_inn": "string", "producer\_inn":

"string", "production\_date": "2020-01-23", "production\_type": "string",

"products": \[ { "certificate\_document": "string",

"certificate\_document\_date": "2020-01-23",

"certificate\_document\_number": "string", "owner\_inn": "string",

"producer\_inn": "string", "production\_date": "2020-01-23",

"tnved\_code": "string", "uit\_code": "string", "uitu\_code": "string" } \],

"reg\_date": "2020-01-23", "reg\_number": "string"}

При реализации можно использовать библиотеки HTTP клиента,

JSON сериализации. Реализация должна быть максимально

удобной для последующего расширения функционала.

Решение должно быть оформлено в виде одного файла

CrptApi.java. Все дополнительные классы, которые используются

должны быть внутренними.

В задании необходимо просто сделать вызов указанного метода,

реальный API не должен интересовать.
